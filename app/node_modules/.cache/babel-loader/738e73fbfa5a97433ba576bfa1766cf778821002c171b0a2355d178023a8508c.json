{"ast":null,"code":"var _jsxFileName = \"/workspace/messaging-app/app/src/ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useR } from 'react';\nimport './ChatWindow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatWindow(props) {\n  _s();\n  // console.log(props.data[0])\n\n  const messageEl = useRef(null);\n  useEffect(() => {\n    if (messageEl) {\n      messageEl.current.addEventListener('DOMNodeInserted', event => {\n        const {\n          currentTarget: target\n        } = event;\n        target.scroll({\n          top: target.scrollHeight,\n          behavior: 'smooth'\n        });\n      });\n    }\n  }, []);\n  let messages = props.data;\n  let mapKey = 0;\n  // let messages = [\n  //     {\n  //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'Test, Another test message',\n  //         user: 1\n  //     },\n  //     {\n  //         text: 'Test, Another test message',\n  //         user: 1\n  //     },\n  //     {\n  //         text: 'Test',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'TestHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 1\n  //     },\n  // ]\n\n  const [value, setValue] = useState('');\n  const message = document.getElementById('message');\n  function handleKeyDown(event) {\n    if (event.key === 'Enter') {\n      props.post(value);\n      // console.log(value)\n      message.value = '';\n      // console.log(messages)\n    }\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid chatContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatWindow d-flex align-items-end justify-content-center row\",\n      children: messages.map(item => {\n        mapKey += 1;\n        // console.log(item.user.id)\n        let messageClass = 'sent';\n        let sentRec = 'd-flex flex-row-reverse';\n        if (item.user !== props.user) {\n          messageClass = 'received';\n          sentRec = '';\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: sentRec + ' chatBody row w-100',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ' messageContainer col-9 p-1',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: messageClass,\n              children: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 33\n          }, this)\n        }, mapKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row fixed-bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-flex justify-content-center m-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"message\",\n          placeholder: \"iMessage\",\n          className: \"messageInput\",\n          onKeyDown: event => handleKeyDown(event),\n          onChange: e => setValue(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n_s(ChatWindow, \"mGgpet3a3xk7diPiWljo/zbt944=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useR","ChatWindow","props","messageEl","useRef","useEffect","current","addEventListener","event","currentTarget","target","scroll","top","scrollHeight","behavior","messages","data","mapKey","value","setValue","message","document","getElementById","handleKeyDown","key","post","map","item","messageClass","sentRec","user","text","e"],"sources":["/workspace/messaging-app/app/src/ChatWindow.js"],"sourcesContent":["import React from 'react'\nimport { useState, useR } from 'react'\nimport './ChatWindow.css'\n\n\n\n\nfunction ChatWindow(props) {\n    // console.log(props.data[0])\n\n    const messageEl = useRef(null);\n\n    useEffect(() => {\n        if (messageEl) {\n            messageEl.current.addEventListener('DOMNodeInserted', event => {\n                const { currentTarget: target } = event;\n                target.scroll({ top: target.scrollHeight, behavior: 'smooth' });\n            });\n        }\n    }, [])\n\n    let messages = props.data\n    let mapKey = 0\n    // let messages = [\n    //     {\n    //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'Test, Another test message',\n    //         user: 1\n    //     },\n    //     {\n    //         text: 'Test, Another test message',\n    //         user: 1\n    //     },\n    //     {\n    //         text: 'Test',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'TestHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 1\n    //     },\n    // ]\n\n    const [value, setValue] = useState('')\n    const message = document.getElementById('message')\n\n    function handleKeyDown(event){\n        if (event.key === 'Enter') {\n            props.post(value)\n            // console.log(value)\n            message.value = ''\n            // console.log(messages)\n        }\n    };\n\n    return (\n        <div className='container-fluid chatContainer'>\n            <div className='chatWindow d-flex align-items-end justify-content-center row'>\n                    {messages.map((item) => {\n                        mapKey += 1\n                        // console.log(item.user.id)\n                        let messageClass = 'sent'\n                        let sentRec = 'd-flex flex-row-reverse'\n                        if (item.user !== props.user){\n                            messageClass = 'received'\n                            sentRec = ''\n                            \n                        }\n                        return (\n                            <div key={mapKey} className={sentRec + ' chatBody row w-100'}>\n                                <div className={' messageContainer col-9 p-1'}>\n                                    <div className={messageClass}>{item.text}</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n                </div>\n                <div className='row fixed-bottom'>\n                    <div className=\"col d-flex justify-content-center m-2\">\n                        <input id='message' placeholder='iMessage' className='messageInput' onKeyDown={(event) => handleKeyDown(event)} onChange={(e) => setValue(e.target.value)} />\n                    </div>\n                </div>\n        </div>\n    )\n}\n\nexport default ChatWindow"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,IAAI,QAAQ,OAAO;AACtC,OAAO,kBAAkB;AAAA;AAKzB,SAASC,UAAU,CAACC,KAAK,EAAE;EAAA;EACvB;;EAEA,MAAMC,SAAS,GAAGC,MAAM,CAAC,IAAI,CAAC;EAE9BC,SAAS,CAAC,MAAM;IACZ,IAAIF,SAAS,EAAE;MACXA,SAAS,CAACG,OAAO,CAACC,gBAAgB,CAAC,iBAAiB,EAAEC,KAAK,IAAI;QAC3D,MAAM;UAAEC,aAAa,EAAEC;QAAO,CAAC,GAAGF,KAAK;QACvCE,MAAM,CAACC,MAAM,CAAC;UAAEC,GAAG,EAAEF,MAAM,CAACG,YAAY;UAAEC,QAAQ,EAAE;QAAS,CAAC,CAAC;MACnE,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIC,QAAQ,GAAGb,KAAK,CAACc,IAAI;EACzB,IAAIC,MAAM,GAAG,CAAC;EACd;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMqB,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;EAElD,SAASC,aAAa,CAACf,KAAK,EAAC;IACzB,IAAIA,KAAK,CAACgB,GAAG,KAAK,OAAO,EAAE;MACvBtB,KAAK,CAACuB,IAAI,CAACP,KAAK,CAAC;MACjB;MACAE,OAAO,CAACF,KAAK,GAAG,EAAE;MAClB;IACJ;EACJ;;EAAC;EAED,oBACI;IAAK,SAAS,EAAC,+BAA+B;IAAA,wBAC1C;MAAK,SAAS,EAAC,8DAA8D;MAAA,UACpEH,QAAQ,CAACW,GAAG,CAAEC,IAAI,IAAK;QACpBV,MAAM,IAAI,CAAC;QACX;QACA,IAAIW,YAAY,GAAG,MAAM;QACzB,IAAIC,OAAO,GAAG,yBAAyB;QACvC,IAAIF,IAAI,CAACG,IAAI,KAAK5B,KAAK,CAAC4B,IAAI,EAAC;UACzBF,YAAY,GAAG,UAAU;UACzBC,OAAO,GAAG,EAAE;QAEhB;QACA,oBACI;UAAkB,SAAS,EAAEA,OAAO,GAAG,qBAAsB;UAAA,uBACzD;YAAK,SAAS,EAAE,6BAA8B;YAAA,uBAC1C;cAAK,SAAS,EAAED,YAAa;cAAA,UAAED,IAAI,CAACI;YAAI;cAAA;cAAA;cAAA;YAAA;UAAO;YAAA;YAAA;YAAA;UAAA;QAC7C,GAHAd,MAAM;UAAA;UAAA;UAAA;QAAA,QAIV;MAEd,CAAC;IAAC;MAAA;MAAA;MAAA;IAAA,QACA,eACN;MAAK,SAAS,EAAC,kBAAkB;MAAA,uBAC7B;QAAK,SAAS,EAAC,uCAAuC;QAAA,uBAClD;UAAO,EAAE,EAAC,SAAS;UAAC,WAAW,EAAC,UAAU;UAAC,SAAS,EAAC,cAAc;UAAC,SAAS,EAAGT,KAAK,IAAKe,aAAa,CAACf,KAAK,CAAE;UAAC,QAAQ,EAAGwB,CAAC,IAAKb,QAAQ,CAACa,CAAC,CAACtB,MAAM,CAACQ,KAAK;QAAE;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA;IAC3J;MAAA;MAAA;MAAA;IAAA,QACJ;EAAA;IAAA;IAAA;IAAA;EAAA,QACR;AAEd;AAAC,GApFQjB,UAAU;AAAA,KAAVA,UAAU;AAsFnB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}