{"ast":null,"code":"var _jsxFileName = \"/workspace/messaging-app/app/src/ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useRef, useEffect } from 'react';\nimport './ChatWindow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatWindow(props) {\n  _s();\n  const bottomRef = useRef(null);\n  let messages = props.data;\n  let filteredMessages = messages.filter;\n  console.log(filteredMessages);\n  let mapKey = 0;\n  // let messages = [\n  //     {\n  //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'Test, Another test message',\n  //         user: 1\n  //     },\n  //     {\n  //         text: 'Test, Another test message',\n  //         user: 1\n  //     },\n  //     {\n  //         text: 'Test',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'TestHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 1\n  //     },\n  //     {\n  //         text: 'Test, Another test message',\n  //         user: 1\n  //     },\n  //     {\n  //         text: 'Test',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'TestHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 2\n  //     },\n  //     {\n  //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n  //         user: 1\n  //     },\n  // ]\n\n  const [value, setValue] = useState('');\n  const message = document.getElementById('message');\n  function handleKeyDown(event) {\n    if (event.key === 'Enter') {\n      props.post(value);\n      // console.log(value)\n      message.value = '';\n      // console.log(messages)\n    }\n  }\n\n  ;\n  useEffect(() => {//https://bobbyhadz.com/blog/react-scroll-to-bottom\n    // bottomRef.current?.scrollIntoView({behavior: 'smooth'});\n  }, [messages]);\n\n  // does messages in start = socket messages\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid chatContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"chat\",\n      className: \"chatWindow d-flex align-items-end justify-content-center row\",\n      children: [messages.map(item => {\n        mapKey += 1;\n        // console.log(item.user.id)\n        let messageClass = 'sent';\n        let sentRec = 'd-flex flex-row-reverse';\n        if (item.user.id !== props.user) {\n          messageClass = 'received';\n          sentRec = '';\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: sentRec + ' chatBody row w-100',\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: ' messageContainer col-9 p-1',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: messageClass,\n              children: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this)\n        }, mapKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: bottomRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row fixed-bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-flex justify-content-center m-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"message\",\n          placeholder: \"iMessage\",\n          className: \"messageInput\",\n          onKeyDown: event => handleKeyDown(event),\n          onChange: e => setValue(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n}\n_s(ChatWindow, \"UtF99rKCa7AA251+4eTWpxF4y1s=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ChatWindow","props","bottomRef","messages","data","filteredMessages","filter","console","log","mapKey","value","setValue","message","document","getElementById","handleKeyDown","event","key","post","map","item","messageClass","sentRec","user","id","text","e","target"],"sources":["/workspace/messaging-app/app/src/ChatWindow.js"],"sourcesContent":["import React from 'react'\nimport { useState, useRef, useEffect } from 'react'\nimport './ChatWindow.css'\n\n\nfunction ChatWindow(props) {\n    const bottomRef = useRef(null);\n\n\n\n    let messages = props.data\n    let filteredMessages = messages.filter\n    console.log(filteredMessages)\n    let mapKey = 0\n    // let messages = [\n    //     {\n    //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'Test, Another test message',\n    //         user: 1\n    //     },\n    //     {\n    //         text: 'Test, Another test message',\n    //         user: 1\n    //     },\n    //     {\n    //         text: 'Test',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'TestHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 1\n    //     },\n    //     {\n    //         text: 'Test, Another test message',\n    //         user: 1\n    //     },\n    //     {\n    //         text: 'Test',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'TestHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 2\n    //     },\n    //     {\n    //         text: 'Hello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more textHello, This is more text',\n    //         user: 1\n    //     },\n    // ]\n\n    const [value, setValue] = useState('')\n    const message = document.getElementById('message')\n\n    function handleKeyDown(event){\n        if (event.key === 'Enter') {\n            props.post(value)\n            // console.log(value)\n            message.value = ''\n            // console.log(messages)\n        }\n    };\n\n     useEffect(() => { //https://bobbyhadz.com/blog/react-scroll-to-bottom\n        // bottomRef.current?.scrollIntoView({behavior: 'smooth'});\n    }, [messages]);\n\n    // does messages in start = socket messages\n\n    return (\n        <div className='container-fluid chatContainer'>\n            <div id='chat' className='chatWindow d-flex align-items-end justify-content-center row'>\n    \n                    {messages.map((item) => {\n                        mapKey += 1\n                        // console.log(item.user.id)\n                        let messageClass = 'sent'\n                        let sentRec = 'd-flex flex-row-reverse'\n                        if (item.user.id !== props.user){\n                            messageClass = 'received'\n                            sentRec = ''\n                            \n                        }\n                        return (\n                            <div key={mapKey} className={sentRec + ' chatBody row w-100'}>\n                                <div className={' messageContainer col-9 p-1'}>\n                                    <div className={messageClass}>{item.text}</div>\n                                </div>\n                            </div>\n                        )\n                    })}\n                    <div ref={bottomRef} />\n                </div>\n                <div className='row fixed-bottom'>\n                    <div className=\"col d-flex justify-content-center m-2\">\n                        <input id='message' placeholder='iMessage' className='messageInput' onKeyDown={(event) => handleKeyDown(event)} onChange={(e) => setValue(e.target.value)} />\n                    </div>\n                </div>\n        </div>\n    )\n}\n\nexport default ChatWindow"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACnD,OAAO,kBAAkB;AAAA;AAGzB,SAASC,UAAU,CAACC,KAAK,EAAE;EAAA;EACvB,MAAMC,SAAS,GAAGJ,MAAM,CAAC,IAAI,CAAC;EAI9B,IAAIK,QAAQ,GAAGF,KAAK,CAACG,IAAI;EACzB,IAAIC,gBAAgB,GAAGF,QAAQ,CAACG,MAAM;EACtCC,OAAO,CAACC,GAAG,CAACH,gBAAgB,CAAC;EAC7B,IAAII,MAAM,GAAG,CAAC;EACd;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMe,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;EAElD,SAASC,aAAa,CAACC,KAAK,EAAC;IACzB,IAAIA,KAAK,CAACC,GAAG,KAAK,OAAO,EAAE;MACvBhB,KAAK,CAACiB,IAAI,CAACR,KAAK,CAAC;MACjB;MACAE,OAAO,CAACF,KAAK,GAAG,EAAE;MAClB;IACJ;EACJ;;EAAC;EAEAX,SAAS,CAAC,MAAM,CAAE;IACf;EAAA,CACH,EAAE,CAACI,QAAQ,CAAC,CAAC;;EAEd;;EAEA,oBACI;IAAK,SAAS,EAAC,+BAA+B;IAAA,wBAC1C;MAAK,EAAE,EAAC,MAAM;MAAC,SAAS,EAAC,8DAA8D;MAAA,WAE9EA,QAAQ,CAACgB,GAAG,CAAEC,IAAI,IAAK;QACpBX,MAAM,IAAI,CAAC;QACX;QACA,IAAIY,YAAY,GAAG,MAAM;QACzB,IAAIC,OAAO,GAAG,yBAAyB;QACvC,IAAIF,IAAI,CAACG,IAAI,CAACC,EAAE,KAAKvB,KAAK,CAACsB,IAAI,EAAC;UAC5BF,YAAY,GAAG,UAAU;UACzBC,OAAO,GAAG,EAAE;QAEhB;QACA,oBACI;UAAkB,SAAS,EAAEA,OAAO,GAAG,qBAAsB;UAAA,uBACzD;YAAK,SAAS,EAAE,6BAA8B;YAAA,uBAC1C;cAAK,SAAS,EAAED,YAAa;cAAA,UAAED,IAAI,CAACK;YAAI;cAAA;cAAA;cAAA;YAAA;UAAO;YAAA;YAAA;YAAA;UAAA;QAC7C,GAHAhB,MAAM;UAAA;UAAA;UAAA;QAAA,QAIV;MAEd,CAAC,CAAC,eACF;QAAK,GAAG,EAAEP;MAAU;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QACrB,eACN;MAAK,SAAS,EAAC,kBAAkB;MAAA,uBAC7B;QAAK,SAAS,EAAC,uCAAuC;QAAA,uBAClD;UAAO,EAAE,EAAC,SAAS;UAAC,WAAW,EAAC,UAAU;UAAC,SAAS,EAAC,cAAc;UAAC,SAAS,EAAGc,KAAK,IAAKD,aAAa,CAACC,KAAK,CAAE;UAAC,QAAQ,EAAGU,CAAC,IAAKf,QAAQ,CAACe,CAAC,CAACC,MAAM,CAACjB,KAAK;QAAE;UAAA;UAAA;UAAA;QAAA;MAAG;QAAA;QAAA;QAAA;MAAA;IAC3J;MAAA;MAAA;MAAA;IAAA,QACJ;EAAA;IAAA;IAAA;IAAA;EAAA,QACR;AAEd;AAAC,GArGQV,UAAU;AAAA,KAAVA,UAAU;AAuGnB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}